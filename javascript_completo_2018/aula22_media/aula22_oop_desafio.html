<!doctype html>
<html>
    <head>
        <title>Curso Javascript Completo 2018</title>
        <meta charset="utf-8">
        
    </head>
    <body>
        <h1>Curso Javascript Completo 2018 - Desafio</h1>      
        
    </body>
    
    <script>
        
        class Aluno{
            constructor(nome){
                this.nome = nome;
                this._faltas = 0;
            }
            
            adicionarFaltas(){
                this._faltas++;
                console.log(`${this.nome} tem ${this._faltas} faltas`);
            }
        }     
        
        let daniel = new Aluno('Daniel');
        
        class ListaAlunos{
            constructor(_lista){
                this.lista = [].concat(_lista);
            }
            
            obterAluno(nome){
                return this.lista.filter( aluno => aluno.nome === nome )[0];
            }
            
            obterAlunosReprovadosPorFaltas(){
                var faltasPermitidas = ListaAlunos.faltasPermitidas;
                return this.lista.filter( aluno => {
                    return aluno._faltas >= faltasPermitidas;
                });
            }
            
            static get faltasPermitidas(){
                return 5;
            }
        }
        
        var alunos = ["Daniel", "Maria", "José", "João"].map( aluno => new Aluno(aluno) );
        console.log(alunos);
        
                
        var listaAlunos = new ListaAlunos(alunos);
        
        listaAlunos.lista[0]._faltas = 6;
        listaAlunos.lista[2]._faltas = 8;
        
        console.log("Lista de Alunos: ");
        console.log(listaAlunos);
        console.log("Alunos Reprovados: ");
        console.log(listaAlunos.obterAlunosReprovadosPorFaltas());
    </script>
</html>
<!Doctype html>
<html>
<script src="game.js"></script>
<script src="game_levels.js"></script>
<link rel="stylesheet" href="game.css">

<body>
    <script>
     async function runGame(plans, Display) {
        'use strict';
        var lives = 3;
        var level = 0;    
           
        while((level < plans.length) && (lives > 0)){
            var status = await runLevel(new Level(plans[level]), Display);
                
            if (status == "lost")  lives--;
                
            else{
                if (level < plans.length - 1)  level++;
                else console.log("You win!");
            }
            console.log("Level: "+level+1);
            console.log("Lives: "+lives);
        }
        
        if (lives > 0) console.log("You won!");
        else  console.log("Game over");
    }
    runGame(GAME_LEVELS, DOMDisplay);
    </script>
</body>

</html>